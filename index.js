'use strict';var tahta=function(d){var e=null;if(d?d.size=d.size?d.size:100:(d={},d.size=d.size?d.size:100),'undefined'!=typeof window)e=document.createElement('canvas');else{var f=new require('canvas');e=new f(d.size,d.size)}var g=e.getContext('2d');e.width=d.size,e.height=d.size;var l=d.meta?d.meta.split('#')[0]:function h(){return'xxxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(x){var y=0|16*Math.random(),z='x'==x?y:8|3&y;return z.toString(16)})}()+'abcdef0123456789'[Math.floor(16*Math.random())],m=[],n=d.meta?d.meta.split('#')[1]:function j(){for(var A,x=[],y=d.size,z=0;10>z;z++)A=Math.floor(Math.random()*d.size/10)+10,x.length?x.reduce(function(B,C){return B+C})<d.size&&9===z?x.push(d.size-x.reduce(function(B,C){return B+C})):x.push(A):x.push(A);return x}();if(!d.meta)d.meta=l+'#'+n.toString().replace(/,/g,'');else{var o=[];for(n=n.split('');0<n.length;)o.push(parseInt(n.splice(0,2).join('')));n=o}for(l=l.split(''),g.clearRect(0,0,d.size,d.size);0<l.length;)m.push('#'+l.splice(0,3).join(''));for(var p=0,q=0;10>q;q++){g.save(),g.beginPath();var t=n.pop();g.globalAlpha=0.75;var u=m.shift();g.fillStyle=u,g.fillRect(p,0,t,d.size),g.fillRect(0,p,d.size,t),p+=t,g.closePath(),g.restore()}return{meta:d.meta,dataURI:e.toDataURL()}};'undefined'!=typeof module&&'undefined'!=typeof module.exports?module.exports=tahta:window.tahta=tahta;
